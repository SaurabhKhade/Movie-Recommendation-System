(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{7422:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie",function(){return r(6887)}])},6887:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(5893),i=r(1163),a=r(7294),o=r(1421),c=r.n(o),s=r(3321),u=r(9008),l=r.n(u),d=r(4051),v=r.n(d),p=r(9669),f=r.n(p);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,i)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(s){c=!0,i=s}finally{try{o||null==r.return||r.return()}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){var t=e.id,r=e.setMessage,i=(0,a.useState)({}),o=i[0],s=i[1];return(0,a.useEffect)((function(){var e;(e=v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f().get("http://api.themoviedb.org/3/movie"+"/".concat(t,"?api_key=").concat("97045671128af79424cdc2ef6510c1bf"));case 5:n=e.sent,s(j(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r("Failed to load movie");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){m(a,n,i,o,c,"next",e)}function c(e){m(a,n,i,o,c,"throw",e)}o(void 0)}))})()}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:o.title}),(0,n.jsx)("meta",{name:"description",content:"".concat(o.title," is a ").concat(o.runtime," movie released in ").concat(o.release_date)}),(0,n.jsx)("meta",{property:"og:url",content:"http://3.83.114.20/movie?id=".concat(t)})]}),(0,n.jsxs)("div",{className:c().movie,children:[(0,n.jsx)("div",{className:c().movie_poster,children:(0,n.jsx)("a",{href:o.homepage,target:"_blank",rel:"noreferrer",children:o.poster_path?(0,n.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(o.poster_path),alt:"poster"}):(0,n.jsx)("img",{src:"/static/images/no-poster.gif",alt:"poster"})})}),(0,n.jsxs)("div",{className:c().movie_title,children:[(0,n.jsx)("h2",{children:o.title}),(0,n.jsx)("p",{children:o.tagline})]}),(0,n.jsx)("div",{className:c().movie_info,children:(0,n.jsx)("p",{children:o.overview})}),(0,n.jsxs)("div",{className:c().movie_details,children:[(0,n.jsxs)("p",{children:["Released on: ",o.release_date]}),(0,n.jsxs)("p",{children:["Runtime: ",o.runtime]}),(0,n.jsxs)("p",{children:["Budget: ",o.budget]}),(0,n.jsxs)("p",{children:["Revenue: ",o.revenue]})]})]})]})}function j(e){return{homepage:e.homepage,overview:e.overview,poster_path:e.poster_path,tagline:e.tagline,title:e.title,budget:e.budget?"$".concat(y(e.budget),"M"):"N/A",revenue:e.revenue?"$".concat(y(e.revenue),"M"):"N/A",runtime:e.runtime?g(e.runtime):"N/A",release_date:e.release_date?b(e.release_date):"N/A"}}function b(e){var t=_(e.split("-"),3),r=t[0],n=t[1],i=t[2];return n=Number(n),"".concat(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]," ").concat(i,", ").concat(r)}function g(e){e=Number(e);var t=Math.floor(e/60),r=e%60;return"".concat(t,"h ").concat(r,"min")}function y(e){return e=Number(e),e=(e/=1e6).toFixed(2)}function N(e){var t=e.data,r=e.isActor,a=(0,i.useRouter)();return(0,n.jsxs)("div",{className:"".concat(c().listCard," ").concat(r?"":c().movieSpecific),onClick:function(){!r&&a.push({pathname:"/movie",query:{id:t.id}})},children:[(0,n.jsx)("img",{src:"https://image.tmdb.org/t/p/w185/".concat(t.profile_path),alt:"poster"}),(0,n.jsx)("h3",{children:t.name}),r&&(0,n.jsx)("p",{children:t.character})]})}function k(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,i)}function w(e){var t=e.id,r=(e.setMessage,(0,a.useState)([])),i=r[0],o=r[1];return(0,a.useEffect)((function(){var e;(e=v().mark((function e(){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f().get("http://api.themoviedb.org/3/movie"+"/".concat(t,"/credits?api_key=").concat("97045671128af79424cdc2ef6510c1bf"));case 5:r=e.sent,o(M(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o([]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){k(a,n,i,o,c,"next",e)}function c(e){k(a,n,i,o,c,"throw",e)}o(void 0)}))})()}),[t]),(0,n.jsxs)("div",{className:c().more,children:[(0,n.jsx)("h1",{children:"Actors"}),(0,n.jsx)("div",{className:c().listContainer,children:0===i.length?(0,n.jsx)("center",{children:(0,n.jsx)("p",{children:"No Actors found for this movie!"})}):i.map((function(e,t){return(0,n.jsx)(N,{data:e,isActor:!0},t)}))})]})}function M(e){for(var t=[],r=0;r<10;r++)t.push({name:e.cast[r].name,character:e.cast[r].character,profile_path:e.cast[r].profile_path});return t}function A(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){A(a,n,i,o,c,"next",e)}function c(e){A(a,n,i,o,c,"throw",e)}o(void 0)}))}}function C(e){var t=e.id,r=(0,a.useState)([]),i=r[0],o=r[1];return(0,a.useEffect)((function(){S(v().mark((function e(){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f().get("/recommend?id=".concat(t));case 5:return r=e.sent,e.t0=o,e.next=9,E(r.data.data);case 9:e.t1=e.sent,(0,e.t0)(e.t1),e.next=15;break;case 13:e.prev=13,e.t2=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[t]),(0,n.jsxs)("div",{className:c().more,children:[(0,n.jsx)("h1",{children:"You may also like this movies..."}),(0,n.jsx)("div",{className:c().listContainer,children:i.map((function(e,t){return(0,n.jsx)(N,{data:e},t)}))})]})}function E(e){return F.apply(this,arguments)}function F(){return(F=S(v().mark((function e(t){var r,n,i,a,o,c,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,a=void 0,e.prev=2,o=t[Symbol.iterator]();case 4:if(n=(c=o.next()).done){e.next=19;break}return s=c.value,e.prev=6,e.next=9,f().get("http://api.themoviedb.org/3/movie"+"/".concat(s.id,"?api_key=").concat("97045671128af79424cdc2ef6510c1bf"));case 9:u=e.sent,r.push({profile_path:u.data.poster_path,name:u.data.title,id:u.data.id}),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("continue",16);case 16:n=!0,e.next=4;break;case 19:e.next=25;break;case 21:e.prev=21,e.t1=e.catch(2),i=!0,a=e.t1;case 25:e.prev=25,e.prev=26,n||null==o.return||o.return();case 28:if(e.prev=28,!i){e.next=31;break}throw a;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",r.slice(0,10));case 34:case"end":return e.stop()}}),e,null,[[2,21,25,33],[6,13],[26,,28,32]])})))).apply(this,arguments)}function P(){var e=(0,i.useRouter)(),t=(0,a.useState)(null),r=t[0],o=t[1],u=(0,a.useState)(null),d=u[0],v=u[1];return(0,a.useEffect)((function(){var t=e.query.id;void 0===t?o("ID not provided!"):(v(t),o(null))}),[e]),(0,n.jsx)("div",{id:"movie-page",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:r})}),(0,n.jsx)("h3",{children:r})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{id:d,setMessage:o}),(0,n.jsx)("div",{className:c().homeBTN,children:(0,n.jsx)(s.Z,{variant:"contained",size:"large",onClick:function(){e.push("/")},children:"Home"})}),(0,n.jsx)("div",{className:"bottom-gap"})]})})}function T(e){var t=e.id,r=e.setMessage;return(0,n.jsxs)("div",{children:[(0,n.jsx)(x,{id:t,setMessage:r}),(0,n.jsx)(w,{id:t}),(0,n.jsx)(C,{id:t})]})}},1421:function(e){e.exports={movie:"Movie_movie___EDoA",more:"Movie_more__S95uO",recommendations:"Movie_recommendations__FtFmM",movie_poster:"Movie_movie_poster__fLqZZ",movie_title:"Movie_movie_title__NT1FR",shrink:"Movie_shrink__N5FdK",movie_details:"Movie_movie_details__Ue6iS",movie_info:"Movie_movie_info__b5kn_",listContainer:"Movie_listContainer__9Q5kH",listCard:"Movie_listCard___TIUb",movieSpecific:"Movie_movieSpecific___uGZ3",homeBTN:"Movie_homeBTN__pAjfN"}}},function(e){e.O(0,[298,774,888,179],(function(){return t=7422,e(e.s=t);var t}));var t=e.O();_N_E=t}]);